"use strict";var S1,S2,S3,S4,S5,S6;var LINK;var LANG;document.getElementsByClassName("tabinfo")[0].click();if(window.File&&window.FileList&&window.Blob){}else{alert('The File APIs are not fully supported in this browser.');}
if(!window.indexedDB){if(LANG==="ES"){alert("\t¡Error!\n\nSu navegador no soporta una versión estable de indexedDB.\nLa aplicación se detendrá.");}else{alert("\tError!\n\nYour browser doesn't support a stable version of IndexedDB.\nThe application will stop.");}
window.stop();}
var dataBase=indexedDB.open("HomePage",1);dataBase.onerror=function(event){if(LANG==="ES"){alert("\t¡Error!\n\nError de acceso al almacen local:\n"+event.target.message);}else{alert("\tError!\n\nAccess to local store failed:\n"+event.target.message);}};dataBase.onupgradeneeded=function(){var active=dataBase.result;var setObj=active.createObjectStore("SET",{keyPath:'id',autoIncrement:false});var nameSet=setObj.createIndex('by_nameSet','nameSet',{unique:false});var imgSet=setObj.createIndex('by_imgSet','imgSet',{unique:false});var bgObj=active.createObjectStore("BG",{keyPath:'bg',autoIncrement:false});var colorBg=bgObj.createIndex('by_colorBg','colorBg',{unique:false});var imgBg=bgObj.createIndex('by_imgBg','imgBg',{unique:false});var linkObj=active.createObjectStore("LINK",{keyPath:'idLink',autoIncrement:true});var sLink=linkObj.createIndex('by_sLink','sLink',{unique:false});var nLink=linkObj.createIndex('by_nLink','nLink',{unique:false});var uLink=linkObj.createIndex('by_uLink','uLink',{unique:false});var iLink=linkObj.createIndex('by_iLink','iLink',{unique:false});};dataBase.onsuccess=function(){var active=dataBase.result;recuperarSet(1,'set1','set1Lab','tab1Name','tab1Img','set1Img','tab1Content','tab1Bnew','tab1Bdel');recuperarSet(2,'set2','set2Lab','tab2Name','tab2Img','set2Img','tab2Content','tab2Bnew','tab2Bdel');recuperarSet(3,'set3','set3Lab','tab3Name','tab3Img','set3Img','tab3Content','tab3Bnew','tab3Bdel');recuperarSet(4,'set4','set4Lab','tab4Name','tab4Img','set4Img','tab4Content','tab4Bnew','tab4Bdel');recuperarSet(5,'set5','set5Lab','tab5Name','tab5Img','set5Img','tab5Content','tab5Bnew','tab5Bdel');recuperarSet(6,'set6','set6Lab','tab6Name','tab6Img','set6Img','tab6Content','tab6Bnew','tab6Bdel');recuperarBG();recuperarLink();};function recuperarSet(nx,setx,setxLab,tabxName,tabxImg,setxImg,tabxContent,tabxBnew,tabxBdel){var active=dataBase.result;var dataSet=active.transaction("SET","readonly");var objectSet=dataSet.objectStore("SET");var requestSet=objectSet.get(nx);requestSet.onsuccess=function(){var result=requestSet.result;if(result!==undefined){document.getElementById(setx).style.display='block';document.getElementById(setxLab).innerHTML=result.nameSet;document.getElementById(tabxName).placeholder=result.nameSet;var imgURL=window.URL.createObjectURL(result.imgSet);var urlImg="url("+imgURL+")";document.getElementById(setxImg).style.backgroundImage=urlImg;document.getElementById(setxImg).onload=function(){window.URL.revokeObjectURL(imgURL);}
document.getElementById(tabxImg).innerHTML=localStorage.getItem(tabxImg);document.getElementById(tabxContent).style.display="block";document.getElementById(tabxBnew).disabled=true;document.getElementById(tabxBdel).disabled=false;if(nx===1){S1=true;if(result.nameSet==""){result.nameSet="Set 1";}
document.getElementById('set1Link').innerHTML=result.nameSet;}
if(nx===2){S2=true;if(result.nameSet==""){result.nameSet="Set 2";}
document.getElementById('set2Link').innerHTML=result.nameSet;}
if(nx===3){S3=true;if(result.nameSet==""){result.nameSet="Set 3";}
document.getElementById('set3Link').innerHTML=result.nameSet;}
if(nx===4){S4=true;if(result.nameSet==""){result.nameSet="Set 4";}
document.getElementById('set4Link').innerHTML=result.nameSet;}
if(nx===5){S5=true;if(result.nameSet==""){result.nameSet="Set 5";}
document.getElementById('set5Link').innerHTML=result.nameSet;}
if(nx===6){S6=true;if(result.nameSet==""){result.nameSet="Set 6";}
document.getElementById('set6Link').innerHTML=result.nameSet;}}else{document.getElementById(tabxBnew).disabled=false;document.getElementById(tabxBdel).disabled=true;}}}
function recuperarBG(){var active=dataBase.result;var dataBG=active.transaction("BG","readonly");var objectBG=dataBG.objectStore("BG");var requestBG=objectBG.get(1);requestBG.onsuccess=function(){var result=requestBG.result;if(result!==undefined){document.getElementById('bgForm').reset();var colorRec=result.colorBg;var invertColor=invertirColor(colorRec);colorRec="#"+invertColor;document.getElementById('colorF').innerHTML=result.colorBg;document.getElementById('colorH').placeholder=result.colorBg;document.getElementById('colorH').style.backgroundColor=result.colorBg;document.getElementById('colorH').style.color=colorRec;document.body.style.backgroundColor=result.colorBg;if(result.imgBg!=""){var imgURL=window.URL.createObjectURL(result.imgBg);var img_url="url('"+imgURL+"')";document.body.style.backgroundImage=img_url;document.body.onload=function(){window.URL.revokeObjectURL(imgURL);}}
document.getElementById('imagenFondo').innerHTML=localStorage.getItem('fileBg');}}}
function recuperarLink(){var active=dataBase.result;var dataLink=active.transaction("LINK","readonly");var objectLink=dataLink.objectStore("LINK");var requestLink=objectLink.openCursor();requestLink.onsuccess=function(event){var cursor=event.target.result;if(cursor){crearLink(cursor.value.sLink,cursor.value.nLink,cursor.value.uLink,cursor.value.iLink);cursor.continue();}};}
function crearLink(set,name,url,img){var imgURLLink=window.URL.createObjectURL(img);var link=document.createElement('a');link.setAttribute("href",url);var elem=document.createElement('img');elem.src=imgURLLink;elem.setAttribute("height","50px");elem.setAttribute("width","50px");elem.style.borderRadius='80%';elem.setAttribute("class","w3-margin");elem.setAttribute("title",name);link.appendChild(elem);if(set===1){document.getElementById("contImg1").appendChild(link);}
if(set===2){document.getElementById("contImg2").appendChild(link);}
if(set===3){document.getElementById("contImg3").appendChild(link);}
if(set===4){document.getElementById("contImg4").appendChild(link);}
if(set===5){document.getElementById("contImg5").appendChild(link);}
if(set===6){document.getElementById("contImg6").appendChild(link);}
elem.onload=function(){URL.revokeObjectURL(imgURLLink);};}
function menu_open(){document.getElementById("mySidebar").style.display="block";document.getElementById("myOverlay").style.display="block";}
function menu_close(){document.getElementById("mySidebar").style.display="none";document.getElementById("myOverlay").style.display="none";}
document.getElementById('menuOpen').onclick=function(){menu_open();};document.getElementById('myOverlay').onclick=function(){menu_close();};document.getElementById('menuClose').onclick=function(){menu_close();};function info_open(){menu_close();document.getElementById('info').style.display='block';}
function info_close(){document.getElementById('info').style.display='none';}
document.getElementById('infoOpen').onclick=function(){info_open();return false;};document.getElementById('closeInfo').onclick=function(){document.getElementById('info').style.display='none';};function openInfo(evt,helpName){var i,x,tabinfos;x=document.getElementsByClassName("inf");for(i=0;i<x.length;i++){x[i].style.display="none";}
tabinfos=document.getElementsByClassName("tabinfo");for(i=0;i<x.length;i++){tabinfos[i].classList.remove("w3-theme");}
document.getElementById(helpName).style.display="block";evt.currentTarget.classList.add("w3-theme");}
document.getElementById('openInfo1').onclick=function(event){openInfo(event,'Hom');};document.getElementById('openInfo2').onclick=function(event){openInfo(event,'Car');};document.getElementById('openInfo3').onclick=function(event){openInfo(event,'Ayu');};document.getElementById('openInfo4').onclick=function(event){openInfo(event,'Req');};function lang_open(){menu_close();document.getElementById('lang').style.display='block';}
function lang_close(){document.getElementById('lang').style.display='none';location.replace(location.hostname);}
document.getElementById('langOpen').onclick=function(){lang_open();return false;};document.getElementById('langClose').onclick=function(){lang_close();};document.getElementById('radioEs').onclick=function(){setLang('esp');};document.getElementById('radioEn').onclick=function(){setLang('eng');};function tools_open(){menu_close();document.getElementById('tools').style.display='block';}
document.getElementById('toolsOpen').onclick=function(){tools_open();return false;};document.getElementById('btnTools').onclick=function(){document.getElementById('tools').style.display='none';};function about_open(){menu_close();document.getElementById('about').style.display='block';}
function about_close(){document.getElementById('about').style.display='none';}
function acordeon(id){var x=document.getElementById(id);if(x.className.indexOf("w3-show")==-1){x.className+=" w3-show";}else{x.className=x.className.replace(" w3-show","");}}
document.getElementById('aboutOpen').onclick=function(){about_open();return false;};document.getElementById('aboutClose').onclick=function(){about_close();};document.getElementById('acordCredits').onclick=function(){acordeon('credits');};function settings_open(){menu_close();document.getElementById('settings').style.display='block';}
function settings_close(){document.getElementById('settings').style.display='none';location.replace(location.hostname);}
document.getElementById('settOpen').onclick=function(){settings_open();return false;};document.getElementById('settClose').onclick=function(){settings_close();};function openTab(evt,tabx){var i,x,tablinks;x=document.getElementsByClassName("set_all");for(i=0;i<x.length;i++){x[i].style.display="none";}
tablinks=document.getElementsByClassName("tablink");for(i=0;i<x.length;i++){tablinks[i].className=tablinks[i].className.replace(" w3-theme","");}
document.getElementById(tabx).style.display="block";evt.currentTarget.className+=" w3-theme";}
document.getElementById('tab1Lab').onclick=function(event){openTab(event,'tab1');};document.getElementById('tab2Lab').onclick=function(event){openTab(event,'tab2');};document.getElementById('tab3Lab').onclick=function(event){openTab(event,'tab3');};document.getElementById('tab4Lab').onclick=function(event){openTab(event,'tab4');};document.getElementById('tab5Lab').onclick=function(event){openTab(event,'tab5');};document.getElementById('tab6Lab').onclick=function(event){openTab(event,'tab6');};document.getElementById('tab7Lab').onclick=function(event){openTab(event,'tab7');};function newSet(tabxBnew,tabxBdel,tabxContent){document.getElementById(tabxBnew).disabled=true;document.getElementById(tabxBdel).disabled=false;document.getElementById(tabxContent).style.display='block';switch(tabxBnew){case'tab1Bnew':S1=true;break;case'tab2Bnew':S2=true;break;case'tab3Bnew':S3=true;break;case'tab4Bnew':S4=true;break;case'tab5Bnew':S5=true;break;case'tab6Bnew':S6=true;}}
document.getElementById('tab1Bnew').onclick=function(){newSet('tab1Bnew','tab1Bdel','tab1Content');};document.getElementById('tab2Bnew').onclick=function(){newSet('tab2Bnew','tab2Bdel','tab2Content');};document.getElementById('tab3Bnew').onclick=function(){newSet('tab3Bnew','tab3Bdel','tab3Content');};document.getElementById('tab4Bnew').onclick=function(){newSet('tab4Bnew','tab4Bdel','tab4Content');};document.getElementById('tab5Bnew').onclick=function(){newSet('tab5Bnew','tab5Bdel','tab5Content');};document.getElementById('tab6Bnew').onclick=function(){newSet('tab6Bnew','tab6Bdel','tab6Content');};function deleteSet(tabxBnew,tabxBdel,tabxContent,tabxForm,setx,tabxImg){document.getElementById(tabxBnew).disabled=false;document.getElementById(tabxBdel).disabled=true;document.getElementById(tabxContent).style.display='none';document.getElementById(tabxForm).reset();switch(tabxBnew){case'tab1Bnew':S1=false;break;case'tab2Bnew':S2=false;break;case'tab3Bnew':S3=false;break;case'tab4Bnew':S4=false;break;case'tab5Bnew':S5=false;break;case'tab6Bnew':S6=false;}
var active=dataBase.result;var dataSet=active.transaction("SET","readwrite");var objectSet=dataSet.objectStore("SET");var removeSet=objectSet.delete(setx);localStorage.removeItem(tabxImg);var dataLink=active.transaction("LINK","readwrite");var objectLink=dataLink.objectStore("LINK");var index=objectLink.index("by_sLink");var requestLink=index.openCursor(IDBKeyRange.only(setx));requestLink.onsuccess=function(event){var cursor=event.target.result;if(cursor){cursor.delete(setx);cursor.continue();}}}
document.getElementById('tab1Bdel').onclick=function(){deleteSet('tab1Bnew','tab1Bdel','tab1Content','tab1Form',1,'tab1Img');};document.getElementById('tab2Bdel').onclick=function(){deleteSet('tab2Bnew','tab2Bdel','tab2Content','tab2Form',2,'tab2Img');};document.getElementById('tab3Bdel').onclick=function(){deleteSet('tab3Bnew','tab3Bdel','tab3Content','tab3Form',3,'tab3Img');};document.getElementById('tab4Bdel').onclick=function(){deleteSet('tab4Bnew','tab4Bdel','tab4Content','tab4Form',4,'tab4Img');};document.getElementById('tab5Bdel').onclick=function(){deleteSet('tab5Bnew','tab5Bdel','tab5Content','tab5Form',5,'tab5Img');};document.getElementById('tab6Bdel').onclick=function(){deleteSet('tab6Bnew','tab6Bdel','tab6Content','tab6Form',6,'tab6Img');};function delete_imgBg(){document.getElementById('colorF').innerHTML="#FFFFFF";document.getElementById('colorH').placeholder="#FFFFFF";document.getElementById('colorH').style.backgroundColor="#FFFFFF";document.getElementById('colorH').style.color="#000000";document.getElementById('colorH').value="#FFFFFF";document.body.style.backgroundColor='#FFFFFF';document.getElementById('imagenFondo').innerHTML="";document.getElementById('bgForm').reset();document.body.style.backgroundImage='none';var active=dataBase.result;var dataBG=active.transaction("BG","readwrite");var objectBG=dataBG.objectStore("BG");var removeBG=objectBG.clear();localStorage.removeItem('fileBg');}
document.getElementById('deleteImgBg').onclick=function(){delete_imgBg();};function saveSet(tabxImg,tabxLogo,setx,tabxName,setxImg){var active=dataBase.result;var dataSet=active.transaction("SET","readwrite");var objectSet=dataSet.objectStore("SET");var nameNew;if(!document.getElementById(tabxName).value){nameNew=document.getElementById(tabxName).placeholder;}else{nameNew=document.getElementById(tabxName).value;}
if(!document.getElementById(tabxLogo).value){if(!document.getElementById(tabxImg).innerHTML){alert("Imagen requerida");}else{var requestSet=objectSet.get(setx);requestSet.onsuccess=function(){var result=requestSet.result;result.nameSet=nameNew;var requestUpdate=objectSet.put(result);requestUpdate.onerror=function(event){alert(event.target.errorCode);};};}}else{var file=document.getElementById(tabxLogo).files[0];document.getElementById(tabxImg).innerHTML=file.name;localStorage.setItem(tabxImg,file.name);var blobURLFull=window.URL.createObjectURL(file);var xhr=new XMLHttpRequest();var blob;xhr.open("GET",blobURLFull,true);xhr.responseType="blob";xhr.onload=function(e){if(this.status===200){blob=this.response;window.URL.revokeObjectURL(blobURLFull);var blobURL=window.URL.createObjectURL(blob);var urlImg="url("+blobURL+")";document.getElementById(setxImg).style.backgroundImage=urlImg;document.getElementById(setxImg).onload=function(){window.URL.revokeObjectURL(blobURL);}
var active=dataBase.result;var dataSet=active.transaction("SET","readwrite");var objectSet=dataSet.objectStore("SET");var writeSet=objectSet.put({id:setx,nameSet:nameNew,imgSet:blob});writeSet.onerror=function(e){alert(request.error.name+'\n\n'+request.error.message);};}};xhr.onerror=function(e){alert("Error "+e.target.status+" occurred while receiving the document.");};xhr.send();}}
function saveBG(){var active=dataBase.result;var dataBG=active.transaction("BG","readwrite");var objectBG=dataBG.objectStore("BG");var colorNew=document.getElementById('colorH').placeholder;if(!document.getElementById('imgfondo').value){document.body.style.backgroundColor=colorNew;if(localStorage.getItem('fileBg')){var requestBG=objectBG.get(1);requestBG.onsuccess=function(){var result=requestBG.result;result.colorBg=colorNew;var requestUpdate=objectBG.put(result);requestUpdate.onerror=function(event){alert(event.target.errorCode);};};}else{var writeBG=objectBG.put({bg:1,colorBg:colorNew,imgBg:""});writeBG.onerror=function(e){alert(request.error.name+'\n\n'+request.error.message);};}}else{document.body.style.backgroundColor=colorNew;var fileImgBg=document.getElementById('imgfondo').files[0];document.getElementById('imagenFondo').innerHTML=fileImgBg.name;localStorage.setItem('fileBg',fileImgBg.name);var blobURLBGFull=window.URL.createObjectURL(fileImgBg);var xhrBG=new XMLHttpRequest();var blobBG;xhrBG.open("GET",blobURLBGFull,true);xhrBG.responseType="blob";xhrBG.onload=function(e){if(this.status===200){blobBG=this.response;window.URL.revokeObjectURL(blobURLBGFull);var blobURLBG=window.URL.createObjectURL(blobBG);document.body.style.backgroundColor=colorNew;var urlImg="url("+blobURLBG+")";document.body.style.backgroundImage=urlImg;var active=dataBase.result;var dataBG=active.transaction("BG","readwrite");var objectBG=dataBG.objectStore("BG");var writeBG=objectBG.put({bg:1,colorBg:colorNew,imgBg:blobBG});writeBG.onerror=function(e){alert(request.error.name+'\n\n'+request.error.message);};writeBG.onsuccess=function(e){window.URL.revokeObjectURL(blobURLBG);};}};xhrBG.onerror=function(e){alert("Error "+e.target.status+" occurred while receiving the document.");};xhrBG.send();}}
function save(){if(S1===true){saveSet('tab1Img','tab1Logo',1,'tab1Name','set1Img');}
if(S2===true){saveSet('tab2Img','tab2Logo',2,'tab2Name','set2Img');}
if(S3===true){saveSet('tab3Img','tab3Logo',3,'tab3Name','set3Img');}
if(S4===true){saveSet('tab4Img','tab4Logo',4,'tab4Name','set4Img');}
if(S5===true){saveSet('tab5Img','tab5Logo',5,'tab5Name','set5Img');}
if(S6===true){saveSet('tab6Img','tab6Logo',6,'tab6Name','set6Img');}
saveBG();if(LANG==="ES"){alert("\t¡DATOS GUARDADOS!\n\nCierra la ventana para ver los cambios.");}else{alert("\tSAVED DATA!\n\nClose the window to see the changes.");}}
document.getElementById('btnSave').onclick=function(){save();};function invertirColor(colorHex){colorHex=colorHex.slice(1,7);colorHex=colorHex.toUpperCase();var carCode=colorHex.split("");var numCode=["F","E","D","C","B","A","9","8","7","6"];var letCode={A:"5",B:"4",C:"3",D:"2",E:"1",F:"0"};var i;var invertHex="";for(i=0;i<6;i++){if(!isNaN(carCode[i])){invertHex+=numCode[carCode[i]];}else if(letCode[carCode[i]]){invertHex+=letCode[carCode[i]];}else{return false;}}
return invertHex;}
function colorLive(){var colorNow=document.getElementById('colorfondo').value;document.getElementById('colorH').placeholder=colorNow;document.getElementById('colorH').style.backgroundColor=colorNow;var invertColor=invertirColor(colorNow);document.getElementById('colorH').style.color="#"+invertColor;}
document.getElementById('colorfondo').onchange=function(){colorLive();};function saveLink(setx){var nameLink=document.getElementById('linkName').value;var urlLink=document.getElementById('linkUrl').value;if(!nameLink||!urlLink||!document.getElementById('linkLogo').value){if(LANG==="ES"){alert("\t¡Error!\n\nTodos los campos requeridos");}else{alert("\tError!\n\nAll fields are required.");}
return;}
var fileLink=document.getElementById('linkLogo').files[0];var blobLinkFull=window.URL.createObjectURL(fileLink);var link=document.createElement('a');link.setAttribute("href",urlLink);var elem=document.createElement('img');elem.src=blobLinkFull;elem.setAttribute("height","50px");elem.setAttribute("width","50px");elem.style.borderRadius='80%';elem.setAttribute("class","w3-margin");elem.setAttribute("title",nameLink);link.appendChild(elem);if(setx===1){document.getElementById("contImg1").appendChild(link);}
if(setx===2){document.getElementById("contImg2").appendChild(link);}
if(setx===3){document.getElementById("contImg3").appendChild(link);}
if(setx===4){document.getElementById("contImg4").appendChild(link);}
if(setx===5){document.getElementById("contImg5").appendChild(link);}
if(setx===6){document.getElementById("contImg6").appendChild(link);}
document.getElementById('linkEdit').style.display='none';var xhrLink=new XMLHttpRequest();var blobLink;xhrLink.open("GET",blobLinkFull,true);xhrLink.responseType="blob";xhrLink.onload=function(e){if(this.status===200){blobLink=this.response;window.URL.revokeObjectURL(blobLinkFull);var blobURLLink=window.URL.createObjectURL(blobLink);var urlImg="url("+blobURLLink+")";var active=dataBase.result;var dataLink=active.transaction("LINK","readwrite");var objectLink=dataLink.objectStore("LINK");var writeLink=objectLink.put({sLink:setx,nLink:nameLink,uLink:urlLink,iLink:blobLink});writeLink.onerror=function(e){alert(request.error.name+'\n\n'+request.error.message);};writeLink.onsuccess=function(e){window.URL.revokeObjectURL(blobURLLink);};}};xhrLink.onerror=function(e){alert("Error "+e.target.status+" occurred while receiving the document.");};xhrLink.send();}
document.getElementById('btnSaveLink').onclick=function(){saveLink(LINK);};function moreLink(linkx){document.getElementById('linkForm').reset();document.getElementById('linkEdit').style.display='block';if(linkx==="link1"){LINK=1;}
if(linkx==="link2"){LINK=2;}
if(linkx==="link3"){LINK=3;}
if(linkx==="link4"){LINK=4;}
if(linkx==="link5"){LINK=5;}
if(linkx==="link6"){LINK=6;}}
document.getElementById('moreLink1').onclick=function(){moreLink('link1');};document.getElementById('moreLink2').onclick=function(){moreLink('link2');};document.getElementById('moreLink3').onclick=function(){moreLink('link3');};document.getElementById('moreLink4').onclick=function(){moreLink('link4');};document.getElementById('moreLink5').onclick=function(){moreLink('link5');};document.getElementById('moreLink6').onclick=function(){moreLink('link6');};function lessLink(linkx){document.getElementById('linkSelect').options.length=1;var active=dataBase.result;var dataLink=active.transaction("LINK","readonly");var objectLink=dataLink.objectStore("LINK");var index=objectLink.index("by_sLink");if(linkx==="link1"){LINK=1;}
if(linkx==="link2"){LINK=2;}
if(linkx==="link3"){LINK=3;}
if(linkx==="link4"){LINK=4;}
if(linkx==="link5"){LINK=5;}
if(linkx==="link6"){LINK=6;}
var requestLink=index.openCursor(IDBKeyRange.only(LINK));requestLink.onsuccess=function(event){var cursor=event.target.result;if(cursor){recuperarOption(cursor.value.nLink);cursor.continue();}};document.getElementById('linkDel').style.display='block';}
document.getElementById('lessLink1').onclick=function(){lessLink('link1');};document.getElementById('lessLink2').onclick=function(){lessLink('link2');};document.getElementById('lessLink3').onclick=function(){lessLink('link3');};document.getElementById('lessLink4').onclick=function(){lessLink('link4');};document.getElementById('lessLink5').onclick=function(){lessLink('link5');};document.getElementById('lessLink6').onclick=function(){lessLink('link6');};function recuperarOption(nombreLink){var x=document.getElementById("linkSelect");var option=document.createElement("option");option.text=nombreLink;x.add(option);}
function deleteLink(setx){var x=document.getElementById("linkSelect");var active=dataBase.result;var dataLink=active.transaction("LINK","readwrite");var objectLink=dataLink.objectStore("LINK");var index=objectLink.index("by_sLink");var requestLink=index.openCursor(IDBKeyRange.only(setx));requestLink.onsuccess=function(event){var cursor=event.target.result;if(cursor){if(cursor.value.nLink===x.value){var removeLink=cursor.delete(setx);x.remove(x.selectedIndex);}else{cursor.continue();}}};}
document.getElementById('btnDeleteLink').onclick=function(){deleteLink(LINK);};function exitLink(){document.getElementById('linkDel').style.display='none';var activoLink;var setLink;if(document.getElementById('link1').style.display==='block'){activoLink="contImg1";setLink=1;}
if(document.getElementById('link2').style.display==='block'){activoLink="contImg2";setLink=2;}
if(document.getElementById('link3').style.display==='block'){activoLink="contImg3";setLink=3;}
if(document.getElementById('link4').style.display==='block'){activoLink="contImg4";setLink=4;}
if(document.getElementById('link5').style.display==='block'){activoLink="contImg5";setLink=5;}
if(document.getElementById('link6').style.display==='block'){activoLink="contImg6";setLink=6;}
var listaLink;listaLink=document.getElementById(activoLink).getElementsByClassName("w3-margin");var i;for(i=0;i<listaLink.length;i++){listaLink[i].style.display="none";}
var active=dataBase.result;var dataLink=active.transaction("LINK","readonly");var objectLink=dataLink.objectStore("LINK");var index=objectLink.index("by_sLink");var requestLink=index.openCursor(IDBKeyRange.only(setLink));requestLink.onsuccess=function(event){var cursor=event.target.result;if(cursor){crearLink(cursor.value.sLink,cursor.value.nLink,cursor.value.uLink,cursor.value.iLink);cursor.continue();}};}
document.getElementById('closeLinkDel').onclick=function(){exitLink();};document.getElementById('btnLink1').onclick=function(){document.getElementById('link1').style.display='block';};document.getElementById('btnLink2').onclick=function(){document.getElementById('link2').style.display='block';};document.getElementById('btnLink3').onclick=function(){document.getElementById('link3').style.display='block';};document.getElementById('btnLink4').onclick=function(){document.getElementById('link4').style.display='block';};document.getElementById('btnLink5').onclick=function(){document.getElementById('link5').style.display='block';};document.getElementById('btnLink6').onclick=function(){document.getElementById('link6').style.display='block';};document.getElementById('closeLink1').onclick=function(){document.getElementById('link1').style.display='none';};document.getElementById('closeLink2').onclick=function(){document.getElementById('link2').style.display='none';};document.getElementById('closeLink3').onclick=function(){document.getElementById('link3').style.display='none';};document.getElementById('closeLink4').onclick=function(){document.getElementById('link4').style.display='none';};document.getElementById('closeLink5').onclick=function(){document.getElementById('link5').style.display='none';};document.getElementById('closeLink6').onclick=function(){document.getElementById('link6').style.display='none';};document.getElementById('closeLinkEdit').onclick=function(){document.getElementById('linkEdit').style.display='none';};function checkLocalStorage(){if(typeof(Storage)!=="undefined"){if(LANG==="ES"){alert("\t¡PERFECTO!\n\nTu navegador soporta\nalmacenamiento local con LocalStorage.");}else{alert("\tALL RIGHT!\n\nYour browser supports local\nstorage with LocalStorage.");}}else{if(LANG==="ES"){alert("\t¡ERROR!\n\nTu navegador no soporta\nalmacenamiento local con LocalStorage.");}else{alert("\tERROR!\n\nYour browser does not accept\nlocal storage with LocalStorage.");}}}
document.getElementById('checkL').onclick=function(){checkLocalStorage();};function checkIndexedDB(){if(!window.indexedDB){if(LANG==="ES"){alert("\t¡Error!\n\nSu navegador no soporta\nuna versión estable de indexedDB.");}else{alert("\tError!\n\nYour browser doesn't support\na stable version of IndexedDB.");}}else{if(LANG==="ES"){alert("\t¡PERFECTO!\n\nTu navegador soporta\nalmacenamiento local\ncon indexedDB.");}else{alert("\tALL RIGHT!\n\nYour browser supports local\nstorage with indexedDB.");}}}
document.getElementById('checkI').onclick=function(){checkIndexedDB();};function reset(){var msgConfirm;if(LANG==="ES"){msgConfirm="\tAVISO\n\n¡Esto borrará todos los datos\ny reiniciará la aplicación!\n\n\t¿Continuar?";}else{msgConfirm="\tWARNING\n\nThis will erase all data\nand restart the application!\n\n\tContinue?";}
if(confirm(msgConfirm)==true){var active=dataBase.result;var dataSet=active.transaction("SET","readwrite");var objectSet=dataSet.objectStore("SET");var dataLink=active.transaction("LINK","readwrite");var objectLink=dataLink.objectStore("LINK");var dataBG=active.transaction("BG","readwrite");var objectBG=dataBG.objectStore("BG");var removeSet=objectSet.clear();var removeLink=objectLink.clear();var removeBG=objectBG.clear();active.close();localStorage.clear();location.replace(location.hostname);}else{return;}}
document.getElementById('btnReset').onclick=function(){reset();};